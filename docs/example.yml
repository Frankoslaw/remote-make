version: "1.0"
task:
  tag: "Test Task"
  type: task
  worker:
    backend: local
  steps:
    - type: process
      cmd: "echo 'Hello, World!'"
    - type: task
      worker: 
        backend: libvirt 
        cpus: 2
        memory: 512
        disk_size: 1G
      steps:
        - type: process
          cmd: "echo 'Hello from nested task!'"
        - tag: nested-complete
          type: process
          cmd: "echo 'This is another step in the nested task!'"
    - type: notify
      backend: discord
      message: "Task completed successfully: {{ nested-complete.exit-code }}"